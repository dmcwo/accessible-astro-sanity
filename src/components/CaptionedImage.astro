---
import { Image } from 'astro:assets'

interface Props {
  src: string
  alt?: string
  width?: number
  height?: number
  class?: string
  caption?: string
  captionType?: 'minimal' | 'harmonized' | 'editorial'
}

const { src, alt = '', width, height, class: className, caption, captionType = 'minimal' } = Astro.props

const captionClass = captionType === 'harmonized'
  ? 'mt-3 text-sm md:text-base leading-7 text-slate-700 dark:text-slate-300 max-w-[65ch] mx-auto text-center md:text-left'
  : captionType === 'editorial'
  ? 'mt-3 text-sm md:text-base leading-7 italic font-medium text-slate-700 dark:text-slate-200 max-w-[65ch] mx-auto text-center'
  : 'mt-2 text-sm leading-6 text-slate-600 dark:text-slate-400'
---

<figure>
  <Image src={src} alt={alt} width={width} height={height} class={className} loading="lazy" />

  {caption ? (
    <figcaption class={captionClass}>
      {caption}
    </figcaption>
  ) : null}
</figure>
